<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2gis</title>
    <script
      charset="utf-8"
      src="https://floors-widget.api.2gis.ru/loader.js"
      id="dg-floors-widget-loader"
    ></script>
  </head>
  <body>
    <style>
      * {
        margin: 0;
      }

      #mywidget {
        width: 960px;
        height: 600px;
        text-align: center;
        line-height: 96vh;
        font-size: 30px;
      }

      .container {
        margin: 0 auto;
        width: 1300px;
      }

      p {
        display: inline;
        margin: 5px;
        font-size: 18px;
        font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
        cursor: pointer;
        color: blue;
        text-decoration: underline;
      }
    </style>

    <div class="container">
      <div id="malls"></div>

      <div id="mywidget"></div>
    </div>

    <script>
      const malls = [
        {
          name: "Хорошо",
          id2gis: "4504235301257840",
        },
        {
          name: "Океания",
          id2gis: "4504235295534895",
        },
        {
          name: "Мега Химки",
          id2gis: "4504235282954871",
        },
        {
          name: "Мега Дыбенко",
          id2gis: "5348660212771114",
        },
        { name: "Галерея Новосибирск", id2gis: "141373143680762" },
        { name: "Моремолл", id2gis: "4222760305899649" },
        { name: "Галерея Краснодар", id2gis: "3237597887375125" },
        { name: "5 Авеню", id2gis: "4504235282552313" },
        { name: "FORT Отрадное", id2gis: "4504235282542199" },
        { name: "FORT Ясенево", id2gis: "4504235282561065" },
        { name: "Гудзон", id2gis: "4504235282633645" },
        { name: "Щука", id2gis: "4504235282574140" },
        { name: "Метрополис", id2gis: "4504235282578431" },
        { name: "Аэропорт Кольцово", id2gis: "1267273050361948" },
        { name: "Аэропорт Стригино", id2gis: "2674647953846912" },
        { name: "Аэропорт Курумоч", id2gis: "2533910462181525" },
        {
          name: "Аэропорт Платов (ошибка в 2gis)",
          id2gis: "70030076154223088",
        },
        { name: "Аэропорт Новый Уренгой (нету данных)", id2gis: "" },
        { name: "Аэропорт Гагарин", id2gis: "70030076169820810" },
        { name: "Аэропорт Елизово", id2gis: "13370697048930087" },
        { name: "Афимолл", id2gis: "4504235282796239" },
        { name: "Колумбус", id2gis: "4504235283134790" },
        { name: "Ярмарка", id2gis: "1126535562026870" },
        { name: "Oz mall", id2gis: "3237597887431183" },
        { name: "Avenue South West", id2gis: "4504235283130537" },
        { name: "Авиапарк", id2gis: "4504235283134799" },
        { name: "Пулково", id2gis: "5348660212818757" },
        { name: "МЕГА (Парнас)", id2gis: "5348660212770213" },
        { name: "МЕГА (Теплый Стан)", id2gis: "4504235282815822" },
        { name: "МЕГА (Белая дача)", id2gis: "4504235282716022" },
        { name: "МЕГА (Казань)", id2gis: "2956122910653621" },
        { name: "МЕГА (Нижний Новогород)", id2gis: "2674647933965743" },
        { name: "МЕГА (Самара)", id2gis: "2533910445590714" },
        { name: "МЕГА (Адыгея -Кубань)", id2gis: "3237597887376464" },
        { name: "МЕГА (Новосибирск)", id2gis: "141373143569821" },
        { name: "МЕГА (Ростов-на-Дону)", id2gis: "3378335375791318" },
        { name: "МЕГА (Уфа)", id2gis: "2393172957224156" },
        { name: "МЕГА (Екатеринбург)", id2gis: "1267273050396167" },
        { name: "МЕГА (Омск)", id2gis: "282110631948983" },
        { name: "Радуга парк", id2gis: "1267273050416183" },
        {
          name: "Outlet Center Ekaterinburg",
          id2gis: "70030076152785349",
        },
        { name: "Депо (Москва)", id2gis: "4504235282738049" },
        { name: "Василеостровский", id2gis: "5348660212676747" },
        {
          name: "Outlet Village Белая Дача",
          id2gis: "4504235283115605",
        },
        { name: "Севкабель Порт", id2gis: "5348660212663380" },
        { name: "Европолис Ростокино", id2gis: "4504235283007809" },
        { name: "Порт-Находка", id2gis: "5348660212751796" },
        { name: "Лондон Молл", id2gis: "5348660212744018" },
        { name: "Родео Драйв", id2gis: "5348660212761141" },
        { name: "Фиолент", id2gis: "5348660212735273" },
        { name: "Академ-Парк", id2gis: "5348660212750264" },
        { name: "Сити Молл", id2gis: "5348660212745504" },
        { name: "Французский бульвар", id2gis: "5348660212721792" },
        { name: "Пять озер", id2gis: "5348660212747143" },
        { name: "Южный полюс", id2gis: "5348660212733447" },
        { name: "Европолис", id2gis: "5348660212743217" },
        { name: "Zеленопарк", id2gis: "4504235295609074" },
      ];

      const arr = malls.map(
        (mall) => `<p onClick="setActiveMall(${mall.id2gis})">${mall.name}</p>`
      );

      const markup = arr.join(" ");

      const target = document.getElementById("malls");
      target.innerHTML += markup;

      function setActiveMall(id) {
        DG.FloorsWidget.init({
          container: "mywidget",
          initData: {
            complexId: id,
          },
        });
      }
    </script>
  </body>
</html>
